<!--partial-scan-result.html-->
<div ng-show="stageStatus==='error'" layout="row" layout-margin layout-fill layout-padding class="err">
    <div flex="90">
        <h2>{{errMsg}}</h2>
    </div>
    <div flex ng-click="reloadApp()">
        <ng-md-icon icon="close"
                    style="fill: white; float: right;cursor: pointer"></ng-md-icon>
    </div>
</div>


<div layout="row" layout-wrap layout-padding id="mainbody" ng-show="stageStatus!=='error'">
    <div flex="50">
        <md-whiteframe class="md-whiteframe-z2" layout layout-align="center center">
            <table class="results-table">
                <tbody>
                <tr>
                    <td>Order Reference</td>
                    <td>{{item.orderid}}</td>
                </tr>
                <tr class="md-table-content-row">
                    <td>Order Type</td>
                    <td>{{item.ordertype}}</td>
                </tr>
                <tr class="md-table-content-row">
                    <td>Source</td>
                    <td>{{item.source}}</td>
                </tr>
                <tr class="md-table-content-row">
                    <td>Orthotist</td>
                    <td>{{item.orthotist}}</td>
                </tr>
                <tr class="md-table-content-row">
                    <td>Customer</td>
                    <td>{{item.customer}}</td>
                </tr>
                </tbody>
            </table>
        </md-whiteframe>
    </div>
    <div flex="50">
        <div ng-repeat="stages in item.stageInformation">
        <md-whiteframe class="md-whiteframe-z2" ng-class="(stages.in!=='') ? 'succ-border' : ''" layout>
            <div layout="row" layout-wrap layout-padding style="width: 100%">
                <div flex="100">
                    {{stages.stageName}}
                </div>
                <div flex="33">
                    In
                </div>
                <div flex="33">
                    Out
                </div>
                <div flex="33">
                    Count
                </div>
                <div flex="33">
                    {{stages.in}}
                </div>
                <div flex="33">
                    {{stages.out}}
                </div>
                <div flex="33">
                    {{stages.count}}
                </div>
            </div>
    </md-whiteframe>
        <ng-md-icon ng-show="!$last" icon="keyboard_arrow_down" class="arrow-middle"></ng-md-icon>

        </div>
</div>
<div flex="100">
    <div layout="row" layout-margin layout-fill layout-padding>
        <div flex>
            <md-button ng-show="stageStatus==='in'" ng-click="scanIn(item.orderid)"
                       class="md-raised md-primary full-width succ"><h3>
                Confirm Order In</h3>
                <ng-md-icon icon="done" style="fill: white"></ng-md-icon>
            </md-button>
            <md-button ng-show="stageStatus==='out'" ng-click="scanOut(item.orderid)"
                       class="md-raised md-primary full-width succ"><h3>
                Confirm Order Out</h3>
                <ng-md-icon icon="launch" style="fill: white"></ng-md-icon>
            </md-button>
        </div>
        <div flex>
            <md-button ng-show="stageStatus!=='none'" ng-click="changestate('scan home')"
                       class="md-raised md-warn full-width"><h3>Wrong Order - Re
                Scan</h3>
                <ng-md-icon icon="warning" style="fill: white" size="24px"></ng-md-icon>
            </md-button>
        </div>
    </div>

    <div layout="row" layout-margin layout-fill layout-padding ng-show="stageStatus=='none'" class="err">
        <div flex="90">
            <h2>Your scan is not for this stage.</h2>
        </div>
        <div flex>
            <ng-md-icon ng-click="changestate('scan home')" icon="close"
                        style="fill: white; float: right;cursor: pointer"></ng-md-icon>
        </div>
    </div>
    <div layout="row" layout-margin layout-fill layout-padding ng-show="scanErr" class="err">
        <div flex="90">
            <h2>{{scanresult}}</h2>
        </div>
        <div flex>
            <ng-md-icon ng-click="resetScanMessage()" icon="close"
                        style="fill: white; float: right;cursor: pointer"></ng-md-icon>
        </div>
    </div>

    <div ng-show="scanSucc" layout-margin layout-fill layout-padding class="succ" layout="row">
        <div flex="90">
            <h2>{{scanresult}}</h2>
        </div>
        <div flex>
            <ng-md-icon ng-click="resetScanMessage()" icon="close"
                        style="fill: white; float: right;cursor: pointer"></ng-md-icon>
        </div>
    </div>
</div>
</div>


